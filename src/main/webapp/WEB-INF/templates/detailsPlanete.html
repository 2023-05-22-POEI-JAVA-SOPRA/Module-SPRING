<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" >
	
<html>
<head>
    <title>Planète</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  </head>
<body>
	<div >
		<h1>La planète</h1>
		<ul>
			<li>Nom: <span th:text="${details.name}"></span></li>
			<li>Diamètre: <span th:text="${details.diameter}"></span> km</li>
			<li>Densité: <span th:text="${details.density}"></span></li>
			<li>Composition, principal élement: <span th:text="${details.mainCompo}"></span></li>
		</ul>
	</div>
	
	
	<div th:text="${errorString}">Erreur</div>
	<form method="POST" action="../planete" th:object="${details}">
		
		<div>
			<label for="id">id</label>
			<input id="id" type="text" name="id" th:value="${details.id}" value="id"/>
			<p th:errors="*{id}">Erreur id</p>
		</div>
		<div>
			<label for="name">Nom</label>
			<input id="name" type="text" name="name" th:value="${details.name}" value="nom planète"/>
			<!--<p th:errors="*{name}">Erreur dans le nom de la planète</p>-->
			<!--avec la ligne ci dessus les erreurs apparaissent sous chaque champ
			si on utiliser le #fields.hasErrors on a toutes les erreurs au meme endroit-->
		</div>
		<div>
			<label for="diameter">Diamètre en km</label>
			<input id="diameter" type="text" name="diameter" th:value="${details.diameter}" value="000000"/>
			<p th:errors="*{diameter}">Erreur dans la valeur saisie</p>
		</div>
		<div>
			<label for="mainCompo">Principal élément</label>
			<input id="mainCompo" type="text" name="mainCompo" th:value="${details.mainCompo}" value="élément principal"/>
		</div>
		<div>
			<input type="submit" value="sauvegarder"/>
		</div>
		<ul th:if="${#fields.hasErrors('*')}">
			<li th:each="err : ${#fields.errors('*')}" th:text="${err}">erreurs</li>
		</ul>
	</form>
</body>
</html>